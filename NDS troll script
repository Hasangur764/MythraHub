-- MythraHub Tam Menü

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Ana GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MythraHub"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- Ana Frame
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 300, 0, 400)
Frame.Position = UDim2.new(0.5, -150, 0.5, -200)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui
Frame.Active = true
Frame.Draggable = true
Frame.ClipsDescendants = true
Frame.AnchorPoint = Vector2.new(0.5, 0.5)

-- Başlık
local Title = Instance.new("TextLabel")
Title.Text = "MythraHub"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 24
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Parent = Frame

-- Kapatma butonu
local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
CloseBtn.Size = UDim2.new(0, 40, 0, 40)
CloseBtn.Position = UDim2.new(1, -45, 0, 5)
CloseBtn.Parent = Frame
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui.Enabled = false
end)

-- Buton oluşturma fonksiyonu
local function createButton(name, position, parent)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 260, 0, 40)
    btn.Position = position
    btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    btn.BorderSizePixel = 0
    btn.Font = Enum.Font.GothamSemibold
    btn.TextSize = 18
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Text = name
    btn.Parent = parent
    return btn
end

-- BTools Butonu
local BToolsBtn = createButton("BTools Aç/Kapat", UDim2.new(0, 20, 0, 70), Frame)
local BToolsActive = false
BToolsBtn.MouseButton1Click:Connect(function()
    if not BToolsActive then
        loadstring(game:HttpGet("https://cdn.wearedevs.net/scripts/BTools.txt"))()
        BToolsActive = true
    else
        BToolsActive = false
        -- BTools'u kapatma scripti yoksa restart gerekebilir.
    end
end)

-- Fly Butonu (Eski sağlam sürüm)
local FlyBtn = createButton("Fly Aç/Kapat", UDim2.new(0, 20, 0, 120), Frame)
local flyActive = false
local bodyGyro, bodyVelocity

FlyBtn.MouseButton1Click:Connect(function()
    local character = LocalPlayer.Character
    if not character then return end
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    flyActive = not flyActive

    if flyActive then
        bodyGyro = Instance.new("BodyGyro", humanoidRootPart)
        bodyGyro.P = 9e4
        bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        bodyGyro.CFrame = humanoidRootPart.CFrame

        bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
        bodyVelocity.Velocity = Vector3.new(0,0,0)
        bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)

        local UserInputService = game:GetService("UserInputService")
        local RunService = game:GetService("RunService")
        local moveVector = Vector3.new(0,0,0)
        
        UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if gameProcessed then return end
            if input.KeyCode == Enum.KeyCode.W then moveVector = moveVector + workspace.CurrentCamera.CFrame.LookVector end
            if input.KeyCode == Enum.KeyCode.S then moveVector = moveVector - workspace.CurrentCamera.CFrame.LookVector end
            if input.KeyCode == Enum.KeyCode.A then moveVector = moveVector - workspace.CurrentCamera.CFrame.RightVector end
            if input.KeyCode == Enum.KeyCode.D then moveVector = moveVector + workspace.CurrentCamera.CFrame.RightVector end
            if input.KeyCode == Enum.KeyCode.Space then moveVector = moveVector + Vector3.new(0,1,0) end
            if input.KeyCode == Enum.KeyCode.LeftControl then moveVector = moveVector - Vector3.new(0,1,0) end
        end)
        UserInputService.InputEnded:Connect(function(input, gameProcessed)
            if gameProcessed then return end
            if input.KeyCode == Enum.KeyCode.W then moveVector = moveVector - workspace.CurrentCamera.CFrame.LookVector end
            if input.KeyCode == Enum.KeyCode.S then moveVector = moveVector + workspace.CurrentCamera.CFrame.LookVector end
            if input.KeyCode == Enum.KeyCode.A then moveVector = moveVector + workspace.CurrentCamera.CFrame.RightVector end
            if input.KeyCode == Enum.KeyCode.D then moveVector = moveVector - workspace.CurrentCamera.CFrame.RightVector end
            if input.KeyCode == Enum.KeyCode.Space then moveVector = moveVector - Vector3.new(0,1,0) end
            if input.KeyCode == Enum.KeyCode.LeftControl then moveVector = moveVector + Vector3.new(0,1,0) end
        end)

        local connection
        connection = RunService.Heartbeat:Connect(function()
            if flyActive then
                bodyGyro.CFrame = workspace.CurrentCamera.CFrame
                bodyVelocity.Velocity = moveVector.Unit * 50
            else
                connection:Disconnect()
            end
        end)

    else
        if bodyGyro then bodyGyro:Destroy() end
        if bodyVelocity then bodyVelocity:Destroy() end
    end
end)

-- JerkOff Tool R6
local JerkOffR6Btn = createButton("JerkOff Tool R6", UDim2.new(0, 20, 0, 170), Frame)
JerkOffR6Btn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://pastefy.app/wa3v2Vgm/raw"))()
end)

-- JerkOff Tool R15
local JerkOffR15Btn = createButton("JerkOff Tool R15", UDim2.new(0, 20, 0, 220), Frame)
JerkOffR15Btn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://pastefy.app/YZoglOyJ/raw"))()
end)

-- Fart Sound
local FartSoundBtn = createButton("Fart Sound", UDim2.new(0, 20, 0, 270), Frame)
FartSoundBtn.MouseButton1Click:Connect(function()
    local sound = Instance.new("Sound", workspace)
    sound.SoundId = "rbxassetid://8430024127"
    sound.Volume = 1
    sound:Play()
    game:GetService("Debris"):AddItem(sound, 5)
end)

-- Screaming Sound
local ScreamSoundBtn = createButton("Scream Sound", UDim2.new(0, 20, 0, 320), Frame)
ScreamSoundBtn.MouseButton1Click:Connect(function()
    local sound = Instance.new("Sound", workspace)
    sound.SoundId = "rbxassetid://9125712561"
    sound.Volume = 1
    sound:Play()
    game:GetService("Debris"):AddItem(sound, 5)
end)

-- Menü Açma/Kapama Tuşu (Oyuncu ölünce GUI silinmesin)
ScreenGui.ResetOnSpawn = false

return ScreenGui
